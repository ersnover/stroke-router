(window["webpackJsonpems-client"]=window["webpackJsonpems-client"]||[]).push([[0],{174:function(e,t,n){e.exports=n(400)},183:function(e,t,n){},184:function(e,t,n){},204:function(e,t,n){},400:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(29),c=n.n(s),o=n(101),i=n(30),l=n(50),u=n(23),m=(n(183),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));var p=["/offline.html"];function d(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?t&&t.onUpdate&&t.onUpdate(e):t&&t.onSuccess&&t.onSuccess(e))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}window.self.addEventListener("install",(function(e){e.waitUntil(caches.open("my-pwa-cache-v1").then((function(e){return e.addAll(p)})))})),window.self.addEventListener("activate",(function(e){e.waitUntil(caches.keys().then((function(e){return Promise.all(e.map((function(e){if("my-pwa-cache-v1"!==e)return caches.delete(e)})))}))),window.self.clients.claim()})),window.self.addEventListener("fetch",(function(e){"navigate"===e.request.mode&&e.respondWith(fetch(e.request).catch((function(){return caches.open("my-pwa-cache-v1").then((function(e){return e.match("offline.html")}))})))}));var f=function(e){return r.a.createElement("div",null,e.children)},E=n(9),g=n(1),v=(n(184),n(24)),h=n.n(v),b="https://whispering-eyrie-17795.herokuapp.com",w="AIzaSyBeqlzrmOWRWZaCJGv7Od17o62_D8aZDto",y=function(e){e?h.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete h.a.defaults.headers.common.Authorization};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var N=Object(u.b)((function(e){return{isAuth:e.auth.isAuth}}),(function(e){return{setAuthState:function(t){return e({type:"SET_AUTH",payload:t})}}}))((function(e){var t=Object(a.useState)({username:null,password:"",password2:null}),n=Object(g.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)("login"),l=Object(g.a)(o,2),u=l[0],m=l[1],p=function(){m("login"===u?"register":"login")},d=Object(a.useState)(""),f=Object(g.a)(d,2),v=f[0],w=f[1],N=function(e){c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s,Object(E.a)({},e.target.name,e.target.value)))},k=function(){"register"===u&&s.username.length<5?w("Username must be at least 5 characters"):h.a.post("".concat(b,"/u/").concat(u),s).then((function(t){t.data.success?(localStorage.setItem("jsonwebtoken",t.data.token),y(t.data.token),e.setAuthState(t.data)):t.data.error?w(t.data.error):w("Error: Could not complete request")}))};return r.a.createElement(r.a.Fragment,null,e.isAuth?r.a.createElement(i.a,{to:"/assessment"}):null,"login"===u?r.a.createElement("div",{className:"loginContainer"},r.a.createElement("div",{className:"pageComponent login"},r.a.createElement("h1",{className:"login"},"Welcome Back!"),r.a.createElement("h3",{style:{backgroundColor:"#badc58",borderRadius:"4px",padding:"10px"}},"Guest Username: guest123",r.a.createElement("br",null),"Guest Password: strokeroute"),r.a.createElement("div",{className:"inputDiv login"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{id:"username",type:"text",name:"username",onChange:N})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{id:"password",type:"password",name:"password",onChange:N}))),r.a.createElement("div",{className:"buttonsDiv login"},r.a.createElement("button",{className:"submitButton login",onClick:k},"Log In"),r.a.createElement("button",{className:"toggleButton login",onClick:p},"Register")),r.a.createElement("span",{className:"errorSpan login"},v))):r.a.createElement("div",{className:"loginContainer"},r.a.createElement("div",{className:"pageComponent login"},r.a.createElement("h1",{className:"login"},"Let's set you up."),r.a.createElement("div",{className:"login inputDiv"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username"},"Make a username:"),r.a.createElement("input",{type:"text",name:"username",onChange:N})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Create a password:"),r.a.createElement("input",{type:"password",name:"password",onChange:N})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password2"},"Re-enter your password:"),r.a.createElement("input",{type:"password",name:"password2",onChange:N}),s.password.length<7||null===s.password?r.a.createElement("span",{className:"errorSpan login"},"Password must be at least 7 characters"):s.password!==s.password2?r.a.createElement("span",{className:"errorSpan login"},"Passwords don't match"):s.password===s.password2?r.a.createElement("span",{className:"errorSpan success login"},"Passwords match!"):void 0)),r.a.createElement("span",{className:"errorSpan login"},v),r.a.createElement("div",{className:"login buttonsDiv"},r.a.createElement("button",{className:"submitButton login",onClick:k},"Register"),r.a.createElement("button",{className:"toggleButton login",onClick:p},"Log in")))))}));var k=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),s=(n[0],n[1],function(t){e.setAnswer("ageInRange",t),e.nextQuestion("LastKnownWell")});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"assessment-header"},r.a.createElement("h4",null,"tPA Exclusion Assessment"),r.a.createElement("div",{className:"progress-border"},r.a.createElement("div",{className:"progress-fill"}))),r.a.createElement("div",{className:"assessment-container"},r.a.createElement("div",{className:"question-container"},r.a.createElement("span",{className:"question-text"},"Is the patient over the age of 18 and under the age of 80? ")),r.a.createElement("div",{className:"answer-container"},r.a.createElement("button",{onClick:function(){return s(!0)}},"Yes"),r.a.createElement("button",{onClick:function(){return s(!1)}},"No"),r.a.createElement("button",{onClick:function(){return e.nextQuestion("LastKnownWell")}},"Unknown"))))};var j=function(e){var t=Object(a.useState)(""),n=Object(g.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)(!1),i=Object(g.a)(o,2),l=i[0],u=i[1],m=function(){e.setAnswer("lastKnownWell",null),e.nextQuestion("RecentSurgery")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"assessment-header"},r.a.createElement("a",{onClick:function(){e.prevQuestion("AgeInRange")}},"< Back"),r.a.createElement("h4",null,"tPA Exclusion Assessment"),r.a.createElement("div",{className:"progress-border"},r.a.createElement("div",{className:"progress-fill"}))),r.a.createElement("div",{className:"assessment-container"},r.a.createElement("div",{className:"question-container"},r.a.createElement("span",{className:"question-text"},"What is the last time the patient was seen well? ",r.a.createElement("i",{className:"fas fa-info-circle",onClick:function(){u(!l)}})),l?r.a.createElement("div",{className:"info-text"},"Last time the patient was seen without stroke-like symptoms, at baseline level of health."):null),r.a.createElement("div",{className:"answer-container"},r.a.createElement("input",{type:"time",name:"lkw-time",onChange:function(e){return function(e){c(e.target.value)}(e)}}),""==s?r.a.createElement("button",{id:"disabled-button"},"Submit"):r.a.createElement("button",{onClick:function(){return function(){var t=new Date,n=t.getHours(),a=t.getMinutes(),r=parseInt(s[0]+s[1]),c=parseInt(s[4]+s[5]),o=function(){var e;if(r<n||r===n&&c<a){var o=t.toISOString().slice(0,11);e="".concat(o).concat(s,".000Z")}else{var i=new Date;i.setDate(t.getDate()-1);var l=i.toISOString().slice(0,11);e="".concat(l).concat(s,".000Z")}return e}();e.setAnswer("lastKnownWell",o),e.nextQuestion("RecentSurgery")}()}},"Submit"),r.a.createElement("button",{onClick:function(){return m()}},"More than 24 hours ago"),r.a.createElement("button",{onClick:function(){return m()}},"Unknown"))))};var C=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),s=n[0],c=n[1],o=function(t){e.setAnswer("recentSurgery",t),e.nextQuestion("Pregnancy")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"assessment-header"},r.a.createElement("a",{onClick:function(){return e.prevQuestion("LastKnownWell")}},"< Back"),r.a.createElement("h4",null,"tPA Exclusion Assessment"),r.a.createElement("div",{className:"progress-border"},r.a.createElement("div",{className:"progress-fill"}))),r.a.createElement("div",{className:"assessment-container"},r.a.createElement("div",{className:"question-container"},r.a.createElement("span",{className:"question-text"},"Has the patient had surgery in the last 3 months? ",r.a.createElement("i",{className:"fas fa-info-circle",onClick:function(){c(!s)}})),r.a.createElement("span",{className:"info-icon-span"}),s?r.a.createElement("div",{className:"info-text"},"Includes major surgeries, such as cardiac, neuro, or any intravenous surgical procedure"):null),r.a.createElement("div",{className:"answer-container"},r.a.createElement("button",{onClick:function(){return o(!0)}},"Yes"),r.a.createElement("button",{onClick:function(){return o(!1)}},"No"),r.a.createElement("button",{onClick:function(){return e.nextQuestion("Pregnancy")}},"Unknown"))))};var A=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),s=(n[0],n[1],function(t){e.setAnswer("pregnancy",t),e.nextQuestion("Anticoagulants")});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"assessment-header"},r.a.createElement("a",{onClick:function(){return e.prevQuestion("RecentSurgery")}},"< Back"),r.a.createElement("h4",null,"tPA Exclusion Assessment"),r.a.createElement("div",{className:"progress-border"},r.a.createElement("div",{className:"progress-fill"}))),r.a.createElement("div",{className:"assessment-container"},r.a.createElement("div",{className:"question-container"},r.a.createElement("span",{className:"question-text"},"Is the patient pregnant? ")),r.a.createElement("div",{className:"answer-container"},r.a.createElement("button",{onClick:function(){return s(!0)}},"Yes"),r.a.createElement("button",{onClick:function(){return s(!1)}},"No"),r.a.createElement("button",{onClick:function(){return e.nextQuestion("Anticoagulants")}},"Unknown"))))};var S=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),s=n[0],c=n[1],o=function(t){e.setAnswer("anticoagulants",t),e.nextQuestion("FacialPalsy")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"assessment-header"},r.a.createElement("a",{onClick:function(){return e.prevQuestion("Pregnancy")}},"< Back"),r.a.createElement("h4",null,"tPA Exclusion Assessment"),r.a.createElement("div",{className:"progress-border"},r.a.createElement("div",{className:"progress-fill"}))),r.a.createElement("div",{className:"assessment-container"},r.a.createElement("div",{className:"question-container"},r.a.createElement("span",{className:"question-text"},"Is the patient on anticoagulants? ",r.a.createElement("i",{className:"fas fa-info-circle",onClick:function(){c(!s)}})),s?r.a.createElement("div",{className:"info-text"},"Common types include ",r.a.createElement("b",null,"heparin"),", ",r.a.createElement("b",null,"warfarin")," (Coumadin), ",r.a.createElement("b",null,"rivaroxaban")," (Xarelto), ",r.a.createElement("b",null,"dabigatran")," (Pradaxa) & ",r.a.createElement("b",null,"apixaban")," (Eliquis)"):null),r.a.createElement("div",{className:"answer-container"},r.a.createElement("button",{onClick:function(){return o(!0)}},"Yes"),r.a.createElement("button",{onClick:function(){return o(!1)}},"No"),r.a.createElement("button",{onClick:function(){return e.nextQuestion("FacialPalsy")}},"Unknown"))))};var P=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),s=n[0],c=n[1],o=function(t){e.setAnswer("facialPalsy",t),e.nextQuestion("ArmMotorImpairment")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"assessment-header"},r.a.createElement("a",{onClick:function(){return e.prevQuestion("Anticoagulants")}},"< Back"),r.a.createElement("h4",null,"RACE Assessment"),r.a.createElement("div",{className:"progress-border"},r.a.createElement("div",{className:"progress-fill"}))),r.a.createElement("div",{className:"assessment-container"},r.a.createElement("div",{className:"question-container"},r.a.createElement("span",{className:"question-text"},"Is the patient experiencing facial palsy? ",r.a.createElement("i",{className:"fas fa-info-circle",onClick:function(){c(!s)}})),s?r.a.createElement("div",{className:"info-text"},"Ask the patient to smile or show their teeth, and note if one side of their face responds less - or doesn't respond at all"):null),r.a.createElement("div",{className:"answer-container"},r.a.createElement("button",{onClick:function(){return o(0)}},"Absent"),r.a.createElement("button",{onClick:function(){return o(1)}},"Mild"),r.a.createElement("button",{onClick:function(){return o(2)}},"Moderate to Severe"))))};var x=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),s=n[0],c=n[1],o=function(t){e.setAnswer("armMotorImpairment",t),e.nextQuestion("LegMotorImpairment")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"assessment-header"},r.a.createElement("a",{onClick:function(){return e.prevQuestion("FacialPalsy")}},"< Back"),r.a.createElement("h4",null,"RACE Assessment"),r.a.createElement("div",{className:"progress-border"},r.a.createElement("div",{className:"progress-fill"}))),r.a.createElement("div",{className:"assessment-container"},r.a.createElement("div",{className:"question-container"},r.a.createElement("span",{className:"question-text"},"Is the patient experiencing any arm weakness?",r.a.createElement("i",{className:"fas fa-info-circle",onClick:function(){c(!s)}})),s?r.a.createElement("div",{className:"info-text"},"Extend arm 90deg if sitting, 45deg if prone. Check ",r.a.createElement("b",null,"severe")," if there is no effort against gravity, ",r.a.createElement("b",null,"moderate")," if arm drifts down within 10 seconds."):null),r.a.createElement("div",{className:"answer-container"},r.a.createElement("button",{onClick:function(){return o(0)}},"Normal to Mild"),r.a.createElement("button",{onClick:function(){return o(1)}},"Moderate"),r.a.createElement("button",{onClick:function(){return o(2)}},"Severe"))))};var D=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),s=n[0],c=n[1],o=function(t){e.setAnswer("legMotorImpairment",t),e.nextQuestion("GazeDeviation")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"assessment-header"},r.a.createElement("a",{onClick:function(){return e.prevQuestion("ArmMotorImpairment")}},"< Back"),r.a.createElement("h4",null,"RACE Assessment"),r.a.createElement("div",{className:"progress-border"},r.a.createElement("div",{className:"progress-fill"}))),r.a.createElement("div",{className:"assessment-container"},r.a.createElement("div",{className:"question-container"},r.a.createElement("span",{className:"question-text"},"Is the patient experiencing leg weakness? ",r.a.createElement("i",{className:"fas fa-info-circle",onClick:function(){c(!s)}})),s?r.a.createElement("div",{className:"info-text"},"Extend leg 30deg if laying down. Check ",r.a.createElement("b",null,"severe")," if there is no effort against gravity, ",r.a.createElement("b",null,"moderate")," if leg drifts down within 5 seconds."):null),r.a.createElement("div",{className:"answer-container"},r.a.createElement("button",{onClick:function(){return o(0)}},"Normal to Mild"),r.a.createElement("button",{onClick:function(){return o(1)}},"Moderate"),r.a.createElement("button",{onClick:function(){return o(2)}},"Severe"))))};var I=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),s=n[0],c=n[1],o=function(t){e.setAnswer("gazeDeviation",t),e.nextQuestion("Hemiparesis")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"assessment-header"},r.a.createElement("a",{onClick:function(){return e.prevQuestion("LegMotorImpairment")}},"< Back"),r.a.createElement("h4",null,"RACE Assessment"),r.a.createElement("div",{className:"progress-border"},r.a.createElement("div",{className:"progress-fill"}))),r.a.createElement("div",{className:"assessment-container"},r.a.createElement("div",{className:"question-container"},r.a.createElement("span",{className:"question-text"},"Is the patient experiencing gaze deviation? ",r.a.createElement("i",{className:"fas fa-info-circle",onClick:function(){c(!s)}})),s?r.a.createElement("div",{className:"info-text"},r.a.createElement("b",null,"Absent/mild")," - Eyes move freely, or with slight resistance from side to side. ",r.a.createElement("b",null,"Present")," - Eyes show clear preference to one side"):null),r.a.createElement("div",{className:"answer-container"},r.a.createElement("button",{onClick:function(){return o(0)}},"Absent"),r.a.createElement("button",{onClick:function(){return o(1)}},"Present"))))};var M=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),s=n[0],c=n[1],o=function(t){switch(e.setAnswer(["hemiparesis","hemiparesisSide"],t),t[1]){case null:return void e.completeAssessment();case"left":return void e.nextQuestion("Agnosia");case"right":return void e.nextQuestion("Aphasia")}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"assessment-header"},r.a.createElement("a",{onClick:function(){return e.prevQuestion("GazeDeviation")}},"< Back"),r.a.createElement("h4",null,"RACE Assessment"),r.a.createElement("div",{className:"progress-border"},r.a.createElement("div",{className:"progress-fill"}))),r.a.createElement("div",{className:"assessment-container"},r.a.createElement("div",{className:"question-container"},r.a.createElement("span",{className:"question-text"}," Does patient have definite hemiparesis? ",r.a.createElement("i",{className:"fas fa-info-circle",onClick:function(){c(!s)}})),r.a.createElement("span",{className:"info-icon-span"}),s?r.a.createElement("div",{className:"info-text"},"Patient shows clear lateral weakness in arms, legs, and/or facial muscles. This response will code into either Agnosia or Aphasia assessment depending on affected side."):null),r.a.createElement("div",{className:"answer-container"},r.a.createElement("button",{onClick:function(){return o([!1,null])}},"Absent"),r.a.createElement("button",{onClick:function(){return o([!0,"left"])}},"Present: Left Side"),r.a.createElement("button",{onClick:function(){return o([!0,"right"])}},"Present: Right Side"))))};var Q=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),s=n[0],c=n[1],o=function(t){e.setAnswer(["agnosia","ready"],[t,!0])};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"assessment-header"},r.a.createElement("a",{onClick:function(){return e.setAnswer("agnosia",null),void e.prevQuestion("Hemiparesis")}},"< Back"),r.a.createElement("h4",null,"RACE Assessment"),r.a.createElement("div",{className:"progress-border"},r.a.createElement("div",{className:"progress-fill"}))),r.a.createElement("div",{className:"assessment-container"},r.a.createElement("div",{className:"question-container"},r.a.createElement("span",{className:"question-text"},"Is the patient experiencing Agnosia/Neglect? ",r.a.createElement("i",{className:"fas fa-info-circle",onClick:function(){c(!s)}})),s?r.a.createElement("div",{className:"info-text"},'Refer to the patient\'s weak arm, and ask "Whose arm is this?" Ask the patient to move that arm.',r.a.createElement("br",null),r.a.createElement("b",null,"Moderate:")," Patient performs 1 task correctly.",r.a.createElement("br",null),r.a.createElement("b",null,"Severe:")," Patient performs neither task correctly"):null),r.a.createElement("div",{className:"answer-container"},r.a.createElement("button",{onClick:function(){return o(0)}},"Absent"),r.a.createElement("button",{onClick:function(){return o(1)}},"Moderate"),r.a.createElement("button",{onClick:function(){return o(2)}},"Severe"))))};var R=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),s=n[0],c=n[1],o=function(t){e.setAnswer(["aphasia","ready"],[t,!0])};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"assessment-header"},r.a.createElement("a",{onClick:function(){return e.setAnswer("aphasia",null),void e.prevQuestion("Hemiparesis")}},"< Back"),r.a.createElement("h4",null,"RACE Assessment"),r.a.createElement("div",{className:"progress-border"},r.a.createElement("div",{className:"progress-fill"}))),r.a.createElement("div",{className:"assessment-container"},r.a.createElement("div",{className:"question-container"},r.a.createElement("span",{className:"question-text"},"Is the patient experiencing Aphasia? ",r.a.createElement("i",{className:"fas fa-info-circle",onClick:function(){c(!s)}})),s?r.a.createElement("div",{className:"info-text"},"Does the patient understand commands? Ask the patient to close their eyes, and make a fist.",r.a.createElement("br",null),r.a.createElement("b",null,"Moderate:")," Patient performs 1 task correctly.",r.a.createElement("br",null),r.a.createElement("b",null,"Severe:")," Patient performs neither task correctly."):null),r.a.createElement("div",{className:"answer-container"},r.a.createElement("button",{onClick:function(){return o(0)}},"Performs both tasks correctly"),r.a.createElement("button",{onClick:function(){return o(1)}},"Performs 1 task correctly"),r.a.createElement("button",{onClick:function(){return o(2)}},"Performs neither task"))))};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B,F=function(e){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px")),window.addEventListener("resize",(function(){var e=.01*window.innerheight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}));var n,s=Object(a.useState)("AgeInRange"),c=Object(g.a)(s,2),o=c[0],i=c[1],l=Object(a.useState)({ageInRange:null|Boolean,lastKnownWell:null|String,timeSinceLKW:null|String,recentSurgery:null|Boolean,pregnancy:null|Boolean,anticoagulants:null|Boolean}),u=Object(g.a)(l,2),m=u[0],p=u[1],d=Object(a.useState)({facialPalsy:null|Number,armMotorImpairment:null|Number,legMotorImpairment:null|Number,gazeDeviation:null|Number,hemiparesis:null|Boolean,hemiparesisSide:null|String,agnosia:null|Number,aphasia:null|Number,ready:!1}),f=Object(g.a)(d,2),v=f[0],h=f[1],b=function(e,t){p(T({},m,Object(E.a)({},e,t)))},w=function(e,t){var n;"string"===typeof e?h(T({},v,Object(E.a)({},e,t))):h(T({},v,(n={},Object(E.a)(n,e[0],t[0]),Object(E.a)(n,e[1],t[1]),n)))},y=function(){if(m.lastKnownWell){var t=new Date,n=m.lastKnownWell,a=parseInt(n.slice(0,4)),r=parseInt(n.slice(5,7))-1,s=parseInt(n.slice(8,10)),c=parseInt(n.slice(11,13)),o=parseInt(n.slice(14,16)),i=parseInt(n.slice(17,20)),l=t-new Date(a,r,s,c,o,i),u=Math.round(l/36e5*10)/10;e.history.push("/results",{tpa:T({},m,{timeSinceLKW:u}),race:v})}else e.history.push("/results",{tpa:m,race:v})};return n=function(){switch(o){case"AgeInRange":return"0%";case"LastKnownWell":return"9%";case"RecentSurgery":return"18%";case"Pregnancy":return"27%";case"Anticoagulants":return"36%";case"FacialPalsy":return"45%";case"ArmMotorImpairment":return"54%";case"LegMotorImpairment":return"63%";case"GazeDeviation":return"72%";case"Hemiparesis":return"81%";case"Agnosia":case"Aphasia":return"90%"}}(),document.documentElement.style.setProperty("--percentComplete","".concat(n)),v.ready&&y(),r.a.createElement("div",{className:"assessment"},function(){switch(o){case"AgeInRange":return r.a.createElement(k,{nextQuestion:i,setAnswer:b});case"LastKnownWell":return r.a.createElement(j,{prevQuestion:i,nextQuestion:i,setAnswer:b});case"RecentSurgery":return r.a.createElement(C,{prevQuestion:i,nextQuestion:i,setAnswer:b});case"Pregnancy":return r.a.createElement(A,{prevQuestion:i,nextQuestion:i,setAnswer:b});case"Anticoagulants":return r.a.createElement(S,{prevQuestion:i,nextQuestion:i,setAnswer:b});case"FacialPalsy":return r.a.createElement(P,{prevQuestion:i,nextQuestion:i,setAnswer:w});case"ArmMotorImpairment":return r.a.createElement(x,{prevQuestion:i,nextQuestion:i,setAnswer:w});case"LegMotorImpairment":return r.a.createElement(D,{prevQuestion:i,nextQuestion:i,setAnswer:w});case"GazeDeviation":return r.a.createElement(I,{prevQuestion:i,nextQuestion:i,setAnswer:w});case"Hemiparesis":return r.a.createElement(M,{prevQuestion:i,nextQuestion:i,setAnswer:w,completeAssessment:y});case"Agnosia":return r.a.createElement(Q,{prevQuestion:i,nextQuestion:i,setAnswer:w,completeAssessment:y});case"Aphasia":return r.a.createElement(R,{prevQuestion:i,nextQuestion:i,setAnswer:w,completeAssessment:y})}}())},q=n(31),U=n.n(q),_=n(51),W=(n(204),function(e){var t="Patient is highly likely (> 85%) to have a Large Vessel Occlusion, but also may be a candidate for tPA. It is recommended to transport patient directly to a Thrombectomy-Capable Stroke Center, unless doing so will substantially increase travel time.",n="Patient is highly likely (> 85%) to have a Large Vessel Occlusion, and is also not a candidate for tPA. It is recommended to transport patient directly to a Thrombectomy-Capable Stroke Center for further treatment.",s="Patient is below the threshold indicating a high chance of Large Vessel Occlusion, but may be a candidate for tPA. It is recommended to transport patient to the closest Stroke Center",c="Patient is below the threshold indicating a high chance of Large Vessel Occlusion. It is recommended to transport patient to the closest Stroke Center",o="Patient has no symptoms recognized by the RACE scale.";return Object(a.useEffect)((function(){!function(){console.log(e.triage.race);var t=0;Object.keys(e.triage.race).forEach((function(n){"hemiparesis"!==n&&"hemiparesisSide"!==n&&"ready"!==n&&null!==e.triage.race[n]&&(t+=e.triage.race[n])}));var n=e.triage.tPA;e.setResults({race:t,lvo:t>=5,tpa:!(!n.ageInRange||n.anticoags||n.pregnancy||n.recentSurgery||!(n.timeSinceLKW<=4.5))})}()}),[]),r.a.createElement("div",{className:"recommendation-div"},r.a.createElement("div",{className:"pageComponent"},r.a.createElement("div",{className:"scoreDiv"},r.a.createElement("span",{className:"score",style:function(){switch(e.results.race){case 1:return{color:"#badc58"};case 2:case 3:return{color:"#f1c40f"};case 4:return{color:"#f39c12"};case 5:case 6:return{color:"#d35400"};case 7:return{color:"#e74c3c"};case 8:return{color:"#e84118"};case 9:return{color:"#c23616"};default:return{color:"#2ecc71"}}}()},e.results.race),r.a.createElement("p",{className:"recommendationText"},0===e.results.race?o:e.results.lvo&&!e.results.tpa?n:e.results.lvo&&e.results.tpa?t:e.results.lvo||e.results.tpa?!e.results.lvo&&e.results.tpa?s:void 0:c)),r.a.createElement("div",null,r.a.createElement("button",{className:"submitButton",onClick:e.switchView},"Show Nearby Centers"))))}),K=n(36),H=Object(K.withScriptjs)(Object(K.withGoogleMap)((function(e){return r.a.createElement(K.GoogleMap,{defaultZoom:10,defaultCenter:e.center},r.a.createElement(K.Marker,{position:e.center}),e.hospitals.map((function(t){return r.a.createElement(K.Marker,{key:t._id,icon:{url:"http://maps.google.com/mapfiles/ms/icons/hospitals.png"},position:{lat:t.loc.coordinates[1],lng:t.loc.coordinates[0]},onClick:function(){return function(t){e.getDirections(e.center,t.loc.coordinates),e.setActive({active:!0,hospital:t})}(t)}})})),e.directionsOn?r.a.createElement(K.DirectionsRenderer,{directions:e.directions}):null)}))),V=n(71),z=n(72),G=n(74),X=n(73),Z=n(75),Y=0,J=new Map,$=(B=window,function(e){var t={_onLoad:function(e){return function(t){var n=J.get(e);n&&n.promise.then((function(){n.error?t(n.error):t(null,n)}))}},_scriptTag:function(e,t){if(!J.has(e)){var n=document.createElement("script"),a={loaded:!1,error:!1,promise:new Promise((function(a,r){var s=document.getElementsByTagName("body")[0];n.type="text/javascript",n.async=!1;var c="loaderCB".concat(Y++).concat(Date.now()),o=function(n){return function(s){var c=J.get(e);"loaded"===n?(c.resolved=!0,a(t)):"error"===n&&(c.errored=!0,r(s)),i()}},i=function(){B[c]&&"function"===typeof B[c]&&(B[c]=null)};return n.onload=o("loaded"),n.onerror=o("error"),n.onreadystatechange=function(){o(n.readyState)},t.match(/callback=CALLBACK_NAME/)?(t=t.replace(/(callback=)[^\&]+/,"$1".concat(c)),window[c]=n.onload):n.addEventListener("load",n.onload),n.addEventListener("error",n.onerror),n.src=t,s.appendChild(n),n})),tag:n};J.set(e,a)}return J.get(e)}};return Object.keys(e).forEach((function(n){var a=e[n];t[n]={tag:t._scriptTag(n,a),onLoad:t._onLoad(n)}})),t}),ee=function(e){var t=(e=e||{apiKey:w,libraries:["Places","Geometry"]}).apiKey,n=e.libraries||[],a=e.client;window.google;return function(){var e={key:t,callback:"CALLBACK_NAME",libraries:n.join(","),client:a,v:"3.38",channel:null,language:null,region:null},r=Object.keys(e).filter((function(t){return!!e[t]})).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&");return"".concat("https://maps.googleapis.com/maps/api/js","?").concat(r)}()},te={},ne=function(e){return function(t){var n=e.apiKey||w,a=e.libraries||["Places","Geometry"];return function(e){function s(e,t){var n;return Object(V.a)(this,s),(n=Object(G.a)(this,Object(X.a)(s).call(this,e,t))).state={loaded:!1,map:null,google:null},n}return Object(Z.a)(s,e),Object(z.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.refs;this.scriptCache.google.onLoad((function(n,a){var r=window.google.maps,s=(Object.assign({},e.props,{loaded:e.state.loaded}),t.map),o=c.a.findDOMNode(s),i=new r.LatLng(e.props.lat,e.props.lng),l=Object.assign({},te,{center:i,zoom:e.props.zoom});e.map=new r.Map(o,l),e.setState({loaded:!0,map:e.map,google:window.google})}))}},{key:"componentWillMount",value:function(){this.scriptCache=$({google:ee({apiKey:n,libraries:a})})}},{key:"render",value:function(){var e=Object.assign({},this.props,{loaded:this.state.loaded,map:this.state.map,google:this.state.google,mapComponent:this.refs.map});return r.a.createElement("div",null,r.a.createElement(t,e),r.a.createElement("div",{ref:"map"}))}}]),s}(r.a.Component)}},ae=n(173);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=function(e){var t=Object(a.useState)(se({},e.hospital,{distance:"",duration:""})),n=Object(g.a)(t,2),s=n[0],c=n[1];return""===s.distance&&(new e.google.maps.DirectionsService).route({origin:e.location,destination:{lat:s.loc.coordinates[1],lng:s.loc.coordinates[0]},travelMode:e.google.maps.TravelMode.DRIVING},(function(t,n){n===e.google.maps.DirectionsStatus.OK?c(se({},s,{distance:t.routes[0].legs[0].distance.text,duration:t.routes[0].legs[0].duration.text})):console.error(n)})),Object(a.useEffect)((function(){})),r.a.createElement("div",{key:s._id,className:"hospitalDiv",onClick:function(){return function(t){e.getDirections(e.location,t.loc.coordinates),e.setActive({active:!0,hospital:t})}(s)}},r.a.createElement("div",{className:"infoDiv"},r.a.createElement("span",{className:"hospitalName"},s.name),r.a.createElement("span",{className:"hospitalAddress"},s.address)),function(e){return r.a.createElement("div",{className:"attributesDiv"},r.a.createElement("div",{className:"travelInfoDiv"},r.a.createElement("span",null,e.distance),r.a.createElement("span",null,e.duration)),r.a.createElement("div",{className:"certificationsDiv"},"TRUE"===e.CSC?r.a.createElement("span",{className:"attribute CSC"},"Comprehensive Stroke Center"):null,"TRUE"===e.EVMT?r.a.createElement("span",{className:"attribute EVMT"},"Thrombectomy-Capable"):null,"TRUE"===e.PSC&&"FALSE"===e.CSC?r.a.createElement("span",{className:"attribute   PSC"},"Primary Stroke Center"):null,"TRUE"===e.TPA?r.a.createElement("span",{className:"attribute TPA"},"tPA Available"):null))}(s))};function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ie=ne({apiKey:w,libraries:["places","geometry"]})((function(e){var t=Object(a.useState)({lat:0,lng:0,ready:!1,hospitalsFetched:!1}),n=Object(g.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)(""),i=Object(g.a)(o,2),l=(i[0],i[1]),u=Object(a.useState)({active:!1,route:{}}),m=Object(g.a)(u,2),p=m[0],d=m[1],f=Object(a.useState)({active:!1,hospital:{}}),v=Object(g.a)(f,2),w=v[0],y=v[1],O=Object(a.useState)([]),N=Object(g.a)(O,2),k=N[0],j=N[1],C=function(e){return e.sort((function(e,t){var n={lat:s.lat*Math.PI/180,lng:s.lng*Math.PI/180};return e.lat=e.loc.coordinates[1]*Math.PI/180,e.lng=e.loc.coordinates[0]*Math.PI/180,t.lat=t.loc.coordinates[1]*Math.PI/180,t.lng=t.loc.coordinates[0]*Math.PI/180,3958.76*Math.acos(Math.sin(n.lat)*Math.sin(e.lat)+Math.cos(n.lat)*Math.cos(e.lat)*Math.cos(e.lng-n.lng))-3958.76*Math.acos(Math.sin(n.lat)*Math.sin(t.lat)+Math.cos(n.lat)*Math.cos(t.lat)*Math.cos(t.lng-n.lng))})),e},A=function(){if(navigator.geolocation)return new Promise((function(e,t){return navigator.geolocation.getCurrentPosition(e,t)}))},S=function(e){c({lat:e.coords.latitude,lng:e.coords.longitude,ready:!0,hospitalsFetched:!1})},P=function(t,n){(new e.google.maps.DirectionsService).route({origin:t,destination:{lat:n[1],lng:n[0]},travelMode:e.google.maps.TravelMode.DRIVING},(function(t,n){n===e.google.maps.DirectionsStatus.OK?d({active:!0,route:t}):l("Error fetching directions")}))},x=function(e){return r.a.createElement("div",{key:e._id,className:"hospitalDiv active"},r.a.createElement("div",{className:"infoContainer"},r.a.createElement("div",{className:"infoDiv"},r.a.createElement("span",{className:"hospitalName"},e.name),r.a.createElement("span",{className:"hospitalAddress"},e.address)),r.a.createElement("div",{className:"attributesDiv"},r.a.createElement("div",{className:"travelInfoDiv"},r.a.createElement("span",null,e.distance),r.a.createElement("span",null,e.duration)),r.a.createElement("div",{className:"certificationsDiv"},"TRUE"===e.CSC?r.a.createElement("span",{className:"attribute CSC"},"Comprehensive Stroke Center"):null,"TRUE"===e.EVMT?r.a.createElement("span",{className:"attribute EVMT"},"Thrombectomy-Capable"):null,"TRUE"===e.PSC&&"FALSE"===e.CSC?r.a.createElement("span",{className:"attribute   PSC"},"Primary Stroke Center"):null,"TRUE"===e.TPA?r.a.createElement("span",{className:"attribute TPA"},"tPA Available"):null))),r.a.createElement("button",{className:"submitButton",onClick:function(){return function(e){var t=e.loc.coordinates[1],n=e.loc.coordinates[0];window.open("http://maps.google.com/maps?saddr=".concat(s.lat,",").concat(s.lng,"&daddr=").concat(t,",").concat(n))}(e)}},r.a.createElement("i",{className:"fas fa-location-arrow"})))};return s.ready&&!s.hospitalsFetched&&h.a.get("".concat(b,"/hospital?lat=").concat(s.lat,"&lng=").concat(s.lng)).then((function(t){var n=t.data.hospitals;n=C(n),e.lvo&&(n=n.filter((function(e){return"TRUE"===e.CSC}))),j(n),c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s,{hospitalsFetched:!0}))})),Object(a.useEffect)((function(){(function(){var e=Object(_.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,S(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"pageComponent maps"},r.a.createElement("div",{className:"recommendation-header"},r.a.createElement("a",{onClick:e.switchView},r.a.createElement("i",{className:"fas fa-arrow-left"})," Back to Recommendation"),function(){if(w.active)return e.patient.sent?r.a.createElement("a",null,"Patient Info Sent ",r.a.createElement("i",{className:"fas fa-check"})):r.a.createElement("a",{onClick:function(){return e.sendToHospital(w.hospital._id,k,s)}},"Send to Hospital ",r.a.createElement("i",{className:"fas fa-arrow-right"}))}()),r.a.createElement("div",{className:"mapAndHospitalsDiv"},0!==s.lat&&e.google?""!==s.lat&&""!==s.lng?r.a.createElement("div",{className:"mapDiv"},r.a.createElement(H,{center:s,google:e.google,googleMapURL:toString(ne({})),hospitals:k,directionsOn:p.active,directions:p.route,getDirections:P,setActive:y,loadingElement:r.a.createElement("div",{className:"loadingElement",style:{height:"100%"}},"Map is Loading...."),containerElement:r.a.createElement("div",{className:"containerElement"}),mapElement:r.a.createElement("div",{className:"mapElement"})})):r.a.createElement("div",{className:"mapDiv"},"Loading....."):null,r.a.createElement("div",{className:"outerHospitalsContainer"},w.active?x(w.hospital):null,r.a.createElement(ae.a,null,r.a.createElement("div",{className:"hospitalsContainer"},k.map((function(t,n){return r.a.createElement(ce,{counter:n,google:e.google,hospital:t,key:t._id,location:s,getDirections:P,setActive:y})})))))))}));function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=Object(u.b)()((function(e){var t=Object(a.useState)("recommendations"),n=Object(g.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)(""),i=Object(g.a)(o,2),l=(i[0],i[1]),u=Object(a.useState)({ready:!1,sent:!1,triage:{tPA:e.location.state.tpa,race:e.location.state.race},results:{},rec:{}}),m=Object(g.a)(u,2),p=m[0],d=m[1],f=function(e){d(ue({},p,{results:e}))},E=function(){var e=Object(_.a)(U.a.mark((function e(t,n,a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(ue({},p,{rec:{userLocation:{lng:a.lng,lat:a.lat},hospitalId:t,recHospitals:n.map((function(e){return e._id}))},ready:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(_.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(p),e.next=3,h.a.post("".concat(b,"/patient/ems"),{patient:p});case 3:(t=e.sent).data.success?d(ue({},p,{sent:!0})):t.data.error&&l(t.data.error);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return p.ready&&!p.sent&&v(),r.a.createElement(r.a.Fragment,null,function(){switch(s){case"recommendations":return r.a.createElement(W,{triage:p.triage,results:p.results,setResults:f,switchView:function(){return c("maps")}});case"maps":return r.a.createElement(ie,{lvo:p.results.lvo,switchView:function(){return c("recommendations")},sendToHospital:E,patient:p})}}())}));function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe={isAuth:!1,userId:""},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH":return de({},e,{isAuth:!!t.payload.token,userId:t.payload.userId});case"SET_USER":return de({},e,{userId:t.payload});default:return e}},ge=function(e){var t=function(t){function n(){return Object(V.a)(this,n),Object(G.a)(this,Object(X.a)(n).apply(this,arguments))}return Object(Z.a)(n,t),Object(z.a)(n,[{key:"componentWillMount",value:function(){this.props.isAuth||this.props.history.push("/")}},{key:"componentDidUpdate",value:function(){this.props.isAuth||this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),n}(a.Component);return Object(u.b)((function(e){return{isAuth:e.auth.isAuth}}))(t)},ve=Object(l.b)({auth:Ee}),he=Object(l.c)(ve,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),be=localStorage.getItem("jsonwebtoken");y(be),c.a.render(r.a.createElement(o.a,null,r.a.createElement(u.a,{store:he},r.a.createElement(f,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:N}),r.a.createElement(i.b,{path:"/assessment",component:ge(F)}),r.a.createElement(i.b,{path:"/results",component:ge(me)}))))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");m?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):d(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):d(t,e)}))}}()}},[[174,1,2]]]);
//# sourceMappingURL=main.cd22e6aa.chunk.js.map